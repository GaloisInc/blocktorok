--------------------------------------------------------------------
-- LINK code Documentation --
--------------------------------------------------------------------
config {
	timeStep : 5e-3 s -- size of the time step
	iterations : 200 -- total number of time steps
	const Tw = LIB_PhysicsParameters2.SOLID_TEMPERATURE_INIT; -- constant variables
	run: coupleModels1 (Tw)
	Backend : SU2
}

model StructureModel (qw) {
  technique : FEM;
  boundaryField : MARKER_ISOTHERMAL= ( MarkerName.solid_surace, 300.0 ); --NEEDS TO BE FIXED
  physics : HeatTransfer{P};
  OBJECTIVE_FUNCTION = TOTAL_HEATFLUX; -- evaluated at the surfaces listed in MARKER_MONITORING
  OBJECTIVE_WEIGHT= 1.0
  const rhos = P.SolidDensity;
  const ks = P.SolidThermalConductivity;
  const cps = P.SolidSpecificHeat;
  var Tw;
  rhos*cps*∇Tw- ks*△Tw = qw;
  solve Tw with {numSolidScheme, linSolver, convSolidParams, heatMethod};
  return Tw;
  }

model FluidModel(Tw) {

  technique : FVM;
  SOLVER= RANS;
  KIND_TURB_MODEL= SA;
  boundaryField: MARKER_FAR= ( MarkerName.farfield ); --NEEDS TO BE FIXED
  physics : FluidFlow {F};

  }

couple coupleModels1 (Tin) {
  var qw; -- heat flux
  qw = FluidModel(Tin);
  Tout = ModelSolid (qw);
  return Tout;
  }
